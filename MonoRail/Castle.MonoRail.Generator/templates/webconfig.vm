<?xml version="1.0" encoding="utf-8" ?> 

<configuration>

    <configSections>
        <section name="rails"
                 type="Castle.MonoRail.Engine.Configuration.RailsSectionHandler, Castle.MonoRail.Engine" />
#if($useWindsorIntegration)
        <section name="castle"
                 type="Castle.Windsor.Configuration.AppDomain.CastleSectionHandler, Castle.Windsor" />
#end
    </configSections>

    <rails>
		<viewEngine 
			viewPathRoot="$viewpath" 
			customEngine="$viewenginetypename" />
#if($useWindsorIntegration)
		<customControllerFactory type="Castle.MonoRail.WindsorExtension.WindsorControllerFactory, Castle.MonoRail.WindsorExtension" />
		<customFilterFactory type="Castle.MonoRail.WindsorExtension.WindsorFilterFactory, Castle.MonoRail.WindsorExtension" />
#else
		<controllers>
			<assembly>${name}</assembly>
		</controllers>
#end
    </rails>
#if($useWindsorIntegration)

	<castle>
		<facilities>
		  <!-- Facilities declarations goes here -->
		</facilities>

		<components>
		  <!-- Components declarations goes here -->
		</components>
	</castle>
#end

    <system.web>
        <httpHandlers>
            <add verb="*" path="*.rails" 
               type="Castle.MonoRail.Engine.RailsHttpHandlerFactory, Castle.MonoRail.Engine" />
        </httpHandlers>
    </system.web>

</configuration>
