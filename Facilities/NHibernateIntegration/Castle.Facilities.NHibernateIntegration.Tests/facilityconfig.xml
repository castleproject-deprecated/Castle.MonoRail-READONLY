<?xml version="1.0" encoding="utf-8" ?> 
<castle>
	<components>
		<component
			id="nhibernate.session.interceptor.intercepted"
			type="Castle.Facilities.NHibernateIntegration.Tests.Common.TestInterceptor, Castle.Facilities.NHibernateIntegration.Tests"
			service="NHibernate.IInterceptor, NHibernate" />
	</components>
	<facilities>
		
		<facility 
			id="nhibernatefacility" 
			type="Castle.Facilities.NHibernateIntegration.NHibernateFacility, Castle.Facilities.NHibernateIntegration">

			<factory id="sessionFactory1">
				<settings>
					<item key="hibernate.connection.provider">NHibernate.Connection.DriverConnectionProvider</item>
					<item key="hibernate.connection.driver_class">NHibernate.Driver.SqlClientDriver</item>
					<item key="hibernate.connection.connection_string">Data Source=.;Initial Catalog=test;Integrated Security=SSPI</item>
					<item key="hibernate.dialect">NHibernate.Dialect.MsSql2000Dialect</item>
				</settings>
				<resources>
					<resource name="../Castle.Facilities.NHibernateIntegration.Tests/Common/Blog.hbm.xml" />
					<resource name="../Castle.Facilities.NHibernateIntegration.Tests/Common/BlogItem.hbm.xml" />
					<resource name="../Castle.Facilities.NHibernateIntegration.Tests/Common/BlogRef.hbm.xml" />
				</resources>
			</factory>

			<factory id="sessionFactory2" alias="db2">
				<settings>
					<item key="hibernate.connection.provider">NHibernate.Connection.DriverConnectionProvider</item>
					<item key="hibernate.connection.driver_class">NHibernate.Driver.SqlClientDriver</item>
					<item key="hibernate.connection.connection_string">Data Source=.;Initial Catalog=test2;Integrated Security=SSPI</item>
					<item key="hibernate.dialect">NHibernate.Dialect.MsSql2000Dialect</item>
				</settings>
				<resources>
					<resource name="../Castle.Facilities.NHibernateIntegration.Tests/Common/Order.hbm.xml" />
				</resources>
			</factory>

			<factory id="sessionFactory3" alias="intercepted">
				<settings>
					<item key="hibernate.connection.provider">NHibernate.Connection.DriverConnectionProvider</item>
					<item key="hibernate.connection.driver_class">NHibernate.Driver.SqlClientDriver</item>
					<item key="hibernate.connection.connection_string">Data Source=.;Initial Catalog=test2;Integrated Security=SSPI</item>
					<item key="hibernate.dialect">NHibernate.Dialect.MsSql2000Dialect</item>
				</settings>
				<resources>
					<resource name="../Castle.Facilities.NHibernateIntegration.Tests/Common/Order.hbm.xml" />
				</resources>
			</factory>
		</facility>
		
	</facilities>
</castle>
