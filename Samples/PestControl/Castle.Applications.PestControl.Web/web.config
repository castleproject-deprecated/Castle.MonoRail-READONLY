<?xml version="1.0" encoding="utf-8" ?> 

<configuration>

    <configSections>
        <section name="rails"
                 type="Castle.MonoRail.Engine.Configuration.RailsSectionHandler, Castle.MonoRail.Engine" />

        <section name="castle"
                 type="Castle.Windsor.Configuration.AppDomain.CastleSectionHandler, Castle.Windsor" />
    </configSections>

    <rails>
        <!-- If you'd like to use the controller directly: -->
		<!-- <controllers assembly="Castle.Applications.PestControl.Web" /> -->
		<viewEngine viewPathRoot="views" />
        
        <customFilterFactory 
			type="Castle.MonoRail.WindsorExtension.WindsorFilterFactory, Castle.MonoRail.WindsorExtension" />
        <customControllerFactory 
			type="Castle.MonoRail.WindsorExtension.WindsorControllerFactory, Castle.MonoRail.WindsorExtension" />
    </rails>

	<castle>
		<facilities>
			<facility id="prevalence">
				<engines>
					<engine 
						id="prevalenceengine"
						autoVersionMigration="true" 
						storageDir="../../storage" 
						systemId="pestcontrolModel" 
						systemType="Castle.Applications.PestControl.Model.PestControlModel, Castle.Applications.PestControl" />
				</engines>
			</facility>
		</facilities>
		
		<components>

		</components>

	</castle>

    <system.web>
        <httpHandlers>
            <add verb="*" path="*.rails" 
               type="Castle.MonoRail.Engine.RailsHttpHandlerFactory, Castle.MonoRail.Engine" />
        </httpHandlers>
        
        <!--
        <authentication mode="Forms">
          <forms name="auth" loginUrl="/home/index.rails" />
        </authentication>
        -->

    </system.web>

<!--
	<location path="project">
		<system.web>
			<authorization>
				<deny users="?"/>
			</authorization>
		</system.web>
	</location>
-->

</configuration>
