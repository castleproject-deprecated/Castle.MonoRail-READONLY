<?xml version="1.0" encoding="utf-8" ?>
<configuration>

	<facilities>
		<!-- This is required for windsor integration -->
		<facility id="rails.facility"
			type="Castle.MonoRail.WindsorExtension.RailsFacility, Castle.MonoRail.WindsorExtension" />

		<!-- Automatic transaction management for our services. Whooa! -->
		<facility id="transaction"
			type="Castle.Facilities.AutomaticTransactionManagement.TransactionFacility, Castle.Facilities.AutomaticTransactionManagement" />

		<facility id="arintegration" 
			type="Castle.Facilities.ActiveRecordIntegration.ActiveRecordFacility, Castle.Facilities.ActiveRecordIntegration"
			isWeb="true" >
			
			<assemblies>
				<item>PetStore.Model</item>
			</assemblies>
			
			<config>
				<add key="hibernate.connection.driver_class" value="NHibernate.Driver.SqlClientDriver" />
				<add key="hibernate.dialect" value="NHibernate.Dialect.MsSql2000Dialect" />
				<add key="hibernate.connection.provider" value="NHibernate.Connection.DriverConnectionProvider" />
				<add key="hibernate.connection.connection_string" value="Data Source=.;Initial Catalog=InteractivePortfolioTools;Integrated Security=True;Pooling=False" />
				<!-- <add key="hibernate.show_sql" value="true" /> -->
				<!-- <add key="hibernate.cache.provider_class" value="NHibernate.Caches.SysCache.SysCacheProvider,NHibernate.Caches.SysCache" /> -->
				<!-- <add key="relativeExpiration" value="300" />  -->
			</config>
			
		</facility>
	</facilities>

</configuration>
